<section class="hero" id="home">
  <div class="hero__bg"></div>
  <div class="hero__overlay"></div>

  <div class="petals-container">
    <span class="petal" *ngFor="let p of petals" [style.left]="p.left" [style.animationDuration]="p.duration"
      [style.animationDelay]="p.delay">ğŸŒ¸</span>
  </div>

  <nav class="nav">
    <ul class="nav__list">
      <li><button class="nav__btn" (click)="scrollTo('home')">Home</button></li>
      <li><button class="nav__btn" (click)="scrollTo('gallery')">Gallery</button></li>
      <li><button class="nav__btn" (click)="scrollTo('event')">Event</button></li>
    </ul>
  </nav>

  <div class="hero__content">
    <p class="hero__tagline reveal-up">With Joyful Hearts We Invite You To Celebrate</p>
    <div class="hero__divider">
      <span class="hero__divider-line"></span>
      <span class="hero__divider-icon">â™¥</span>
      <span class="hero__divider-line"></span>
    </div>
    <h1 class="hero__title reveal-up delay-1">{{ inviteData.title }}</h1>
    <div class="hero__divider">
      <span class="hero__divider-line"></span>
      <span class="hero__divider-icon">âœ¦</span>
      <span class="hero__divider-line"></span>
    </div>
    <p class="hero__date reveal-up delay-2">{{ inviteData.eventDate | date: 'MMMM d, y' }}</p>
    <button class="hero__cta reveal-up delay-3" (click)="scrollTo('event')">View Details</button>
  </div>

  <div class="hero__scroll-indicator">
    <span class="hero__scroll-dot"></span>
  </div>
</section>

<!-- Countdown -->
<section class="countdown-section">
  <div class="countdown-section__inner">
    <h2 class="section-title">Counting Down To Our Special Day</h2>
    <div class="countdown">
      <div class="countdown__card glass-card">
        <span class="countdown__value">{{ countdown.days }}</span>
        <span class="countdown__label">Days</span>
      </div>
      <span class="countdown__sep">:</span>
      <div class="countdown__card glass-card">
        <span class="countdown__value">{{ countdown.hours }}</span>
        <span class="countdown__label">Hours</span>
      </div>
      <span class="countdown__sep">:</span>
      <div class="countdown__card glass-card">
        <span class="countdown__value">{{ countdown.minutes }}</span>
        <span class="countdown__label">Minutes</span>
      </div>
      <span class="countdown__sep">:</span>
      <div class="countdown__card glass-card">
        <span class="countdown__value">{{ countdown.seconds }}</span>
        <span class="countdown__label">Seconds</span>
      </div>
    </div>
  </div>
</section>

<!-- Gallery -->
<section class="gallery-section" id="gallery">
  <div class="gallery-section__inner">
    <p class="section-pretitle">Our Moments</p>
    <h2 class="section-title">A Glimpse Of Our Story</h2>
    <div class="gallery-grid">
      <div class="gallery-item" *ngFor="let img of inviteData.images; let i = index"
        [class.scroll-revealed]="galleryRevealed" [style.animationDelay]="(i * 0.15) + 's'" (click)="openModal(img)">
        <div class="gallery-item__inner">
          <img [src]="img.path" [alt]="img.title" class="gallery-item__img" loading="lazy" />
          <div class="gallery-item__overlay">
            <span class="gallery-item__icon">ğŸ”</span>
            <span class="gallery-item__label">{{ img.title }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Modal -->
<div class="modal" [class.modal--open]="modalImage" (click)="closeModal()">
  <div class="modal__content" (click)="$event.stopPropagation()">
    <button class="modal__close" (click)="closeModal()">âœ•</button>
    <img *ngIf="modalImage" [src]="modalImage.path" [alt]="modalImage.title" class="modal__img" />
  </div>
</div>

<!-- Event Details -->
<section class="event-section" id="event">
  <div class="event-section__bg" [style.backgroundImage]="'url(' + getImage(2) + ')'"></div>
  <div class="event-section__overlay"></div>
  <div class="event-section__inner">
    <p class="section-pretitle light">The Celebration {{getImage(2)}}</p>
    <h2 class="section-title light">Event Details</h2>

    <div class="event-cards">
      <div class="event-card glass-card" [class.scroll-revealed]="eventRevealed">
        <div class="event-card__icon">ğŸ“…</div>
        <h3 class="event-card__title">Date & Time</h3>
        <p class="event-card__value">{{ inviteData.eventDate | date: 'EEEE, MMMM d, y' }}</p>
        <p class="event-card__sub">{{ inviteData.eventDate | date: 'h:mm a' }}</p>
      </div>
      <div class="event-card glass-card" [class.scroll-revealed]="eventRevealed" style="animation-delay:0.2s">
        <div class="event-card__icon">ğŸ“</div>
        <h3 class="event-card__title">Wedding Venue</h3>
        <p class="event-card__value">{{ inviteData.venue }}</p>
        <p class="event-card__value">{{ inviteData.venue_date }}</p>
      </div>
      <div class="event-card glass-card" [class.scroll-revealed]="eventRevealed" style="animation-delay:0.2s">
        <div class="event-card__icon">ğŸ“</div>
        <h3 class="event-card__title">Reception Venue</h3>
        <p class="event-card__value">{{ inviteData.venue2 }}</p>
        <p class="event-card__value">{{ inviteData.venue2_date }}</p>
      </div>
      <div class="event-card glass-card" [class.scroll-revealed]="eventRevealed" style="animation-delay:0.4s">
        <div class="event-card__icon">ğŸ“</div>
        <h3 class="event-card__title">RSVP / Contact</h3>
        <p class="event-card__value">
          <a [href]="'tel:' + inviteData.Contact" class="event-card__link">+91 {{ inviteData.Contact }}</a>
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer class="footer">
  <div class="footer__petals-line">âœ¦ â™¥ âœ¦</div>
  <h2 class="footer__title">{{ inviteData.title }}</h2>
  <p class="footer__date">{{ inviteData.eventDate | date: 'MMMM d, y' }}</p>
  <p class="footer__note">We joyfully request the honor of your presence.</p>
  <div class="footer__bottom">Made with â™¥ for a lifetime of love</div>
</footer>

<!-- Music Button -->
<button class="music-btn" (click)="toggleMusic()" [attr.aria-label]="isPlaying ? 'Pause music' : 'Play music'">
  <span class="music-btn__icon">{{ isPlaying ? 'ğŸµ' : 'ğŸ¶' }}</span>
  <span class="music-btn__label">{{ isPlaying ? 'Pause' : 'Music' }}</span>
</button>

<audio #audioPlayer loop>
  <source src="/assets/audio/romantic.mp3" type="audio/mpeg" />
</audio>
